<!doctype html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ù…Ø­Ø·Ø© 3 â€“ Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª</title>

    <style>
        :root {
            --bg: #070b16;
            --border: rgba(255,255,255,.14);
            --text: #e9eefc;
            --muted: #a9b4d6;
            --accent: #ffd43b;
            --ok: #2ecc71;
            --bad: #ff6b6b;
            --shadow: 0 18px 50px rgba(0,0,0,.55);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        body {
            min-height: 100vh;
            background: radial-gradient(1000px 600px at 15% 10%, rgba(116,167,255,.18), transparent 55%), radial-gradient(900px 550px at 85% 20%, rgba(110,231,255,.12), transparent 55%), var(--bg);
            color: var(--text);
            font-family: system-ui,Segoe UI,Arial;
            padding-top: 70px;
            /* Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø³ÙÙ„ÙŠ Ø§Ù„Ø«Ø§Ø¨Øª */
            padding-bottom: 210px;
        }

        /* ===== Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ ===== */
        .topBar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 999;
            background: rgba(11,18,36,.92);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
        }

        .topBarInner {
            max-width: 1200px;
            margin: auto;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .homeLink {
            text-decoration: none;
            font-weight: 900;
            font-size: 15px;
            color: #071023;
            background: linear-gradient(135deg,#ffe066,#ffd43b);
            padding: 8px 18px;
            border-radius: 999px;
            box-shadow: 0 8px 22px rgba(255,212,59,.35);
        }

        .topTitle {
            font-weight: 950;
            color: var(--accent);
            font-size: 15px;
        }

        /* ===== ØªØ®Ø·ÙŠØ· ===== */
        .wrap {
            max-width: 1200px;
            margin: auto;
            padding: 16px;
            display: grid;
            gap: 14px;
        }

        /* Ø´Ø±ÙŠØ· Ù…Ø¹Ù„ÙˆÙ…Ø§Øª */
        .infoBar {
            background: rgba(255,255,255,.04);
            border: 1px solid rgba(255,255,255,.10);
            border-radius: 18px;
            padding: 12px 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            flex-wrap: wrap;
        }

            .infoBar .hint {
                color: var(--muted);
                font-size: 13px;
                line-height: 1.7
            }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap
        }

        .btn {
            border: none;
            cursor: pointer;
            padding: 10px 14px;
            border-radius: 999px;
            font-weight: 950;
        }

        .btnPrimary {
            background: linear-gradient(135deg,#ffe066,#ffd43b);
            color: #071023;
        }

        .btnGhost {
            background: rgba(255,255,255,.08);
            color: var(--text);
            border: 1px solid rgba(255,255,255,.16);
        }

        .result {
            color: var(--muted);
            font-size: 13px;
            font-weight: 900;
        }

        /* ===== Ø§Ù„Ø®Ø±ÙŠØ·Ø© ===== */
        .map {
            position: relative;
            height: min(620px, 72vh);
            border-radius: 22px;
            background: radial-gradient(900px 480px at 20% 30%, rgba(255,212,59,.10), transparent 60%), radial-gradient(700px 420px at 80% 35%, rgba(110,231,255,.10), transparent 60%), rgba(11,18,36,.88);
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .mapLabel {
            position: absolute;
            top: 14px;
            right: 14px;
            padding: 8px 12px;
            border-radius: 999px;
            background: rgba(255,255,255,.06);
            border: 1px solid rgba(255,255,255,.12);
            color: var(--muted);
            font-size: 13px;
            font-weight: 900;
        }

        /* Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¥Ø³Ù‚Ø§Ø·: Ø±Ù‚Ù… ÙÙ‚Ø· */
        .dropzone {
            position: absolute;
            width: 86px;
            height: 86px;
            border-radius: 22px;
            border: 1px dashed rgba(255,255,255,.26);
            background: rgba(255,255,255,.04);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: .15s;
        }

            .dropzone.over {
                background: rgba(255,212,59,.10);
                border-color: rgba(255,212,59,.65);
            }

        .num {
            width: 44px;
            height: 44px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 950;
            font-size: 18px;
            background: rgba(255,255,255,.08);
            border: 1px solid rgba(255,255,255,.14);
            color: var(--accent);
        }

        /* ØµÙˆØ±Ø© Ù…ÙˆØ¶ÙˆØ¹Ø© ÙÙˆÙ‚ Ø§Ù„Ø±Ù‚Ù… */
        .placed {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

            .placed img {
                width: 58px;
                height: 58px;
                border-radius: 18px;
                border: 1px solid rgba(255,255,255,.16);
                background: rgba(255,255,255,.06);
                object-fit: cover;
                box-shadow: 0 12px 28px rgba(0,0,0,.35);
            }

        /* ØµØ­/Ø®Ø·Ø£ */
        .dropzone.good {
            border-style: solid;
            border-color: rgba(46,204,113,.7);
            background: rgba(46,204,113,.08)
        }

        .dropzone.bad {
            border-style: solid;
            border-color: rgba(255,107,107,.75);
            background: rgba(255,107,107,.08)
        }

        /* ===== Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø³ÙÙ„ÙŠ (Ø«Ø§Ø¨Øª + Ø³ÙƒØ±ÙˆÙ„) ===== */
        .tray {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 998;
            background: rgba(11,18,36,.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--border);
            box-shadow: 0 -18px 50px rgba(0,0,0,.55);
        }

        .trayInner {
            max-width: 1200px;
            margin: auto;
            padding: 12px 16px 14px;
        }

        .trayTop {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 10px;
        }

        .trayTitle {
            font-weight: 950;
            color: var(--accent);
            font-size: 14px;
        }

        .trayHint {
            color: var(--muted);
            font-size: 12px;
            font-weight: 800;
        }

        /* Ø´Ø¨ÙƒØ© Ù‚Ø±ÙŠØ¨Ø© + ØªÙ…Ø±ÙŠØ± */
        .items {
            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: 168px;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 6px;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }

            .items::-webkit-scrollbar {
                height: 10px
            }

            .items::-webkit-scrollbar-thumb {
                background: rgba(255,255,255,.14);
                border-radius: 999px
            }

            .items::-webkit-scrollbar-track {
                background: rgba(255,255,255,.06);
                border-radius: 999px
            }

        .item {
            scroll-snap-align: start;
            display: flex;
            gap: 10px;
            align-items: center;
            padding: 10px;
            border-radius: 18px;
            border: 1px solid rgba(255,255,255,.14);
            background: rgba(255,255,255,.05);
            cursor: grab;
            user-select: none;
            transition: .12s;
        }

            .item:active {
                cursor: grabbing;
                transform: scale(.99)
            }

            .item img {
                width: 46px;
                height: 46px;
                border-radius: 14px;
                border: 1px solid rgba(255,255,255,.14);
                background: rgba(255,255,255,.06);
                object-fit: cover;
            }

            .item .t {
                font-weight: 950;
                font-size: 13px;
                line-height: 1.2;
            }

            .item .s {
                color: var(--muted);
                font-size: 12px;
                margin-top: 2px;
                line-height: 1.2;
            }

        /* Ù…Ù„Ø§Ø¡Ù…Ø© Ø§Ù„Ù‡Ø§ØªÙ */
        @media(max-width:600px) {
            body {
                padding-bottom: 240px;
            }

            .map {
                height: min(720px, 70vh);
            }

            .dropzone {
                width: 78px;
                height: 78px;
                border-radius: 20px;
            }

            .placed img {
                width: 54px;
                height: 54px;
                border-radius: 16px;
            }

            .items {
                grid-auto-columns: 150px;
            }
        }
    </style>
</head>

<body>

    <div class="topBar">
        <div class="topBarInner">
            <a class="homeLink" href="index.html">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <div class="topTitle">Ù…Ø­Ø·Ø© 3 â€“ Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª</div>
        </div>
    </div>

    <div class="wrap">

        <div class="infoBar">
            <div class="hint">
                Ø§Ø³Ø­Ø¨ ÙƒÙ„ ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø³ÙÙ„ÙŠ ÙˆØ¶Ø¹Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØµØ­ÙŠØ­ ÙÙŠ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
                <br>
                Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ø¶ØºØ· ØªØ­Ù‚Ù‚ Ù„Ù…Ø¹Ø±ÙØ© Ù†ØªÙŠØ¬ØªÙƒ
            </div>

            <div class="controls">
                <button class="btn btnPrimary" id="checkBtn">ØªØ­Ù‚Ù‚</button>
                <button class="btn btnGhost" id="resetBtn">Ø§Ø¹Ø§Ø¯Ø©</button>
            </div>

            <div class="result" id="resultText">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0 / 10</div>
        </div>

        <div class="map" id="map">
            <div class="mapLabel">Ø¶Ø¹ Ø§Ù„ØµÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…</div>

            <!-- Ø§Ø±Ù‚Ø§Ù… ÙÙ‚Ø· -->
            <div class="dropzone" data-zone="1" style="top:80px; right:40px;">
                <div class="num">1</div>
                <div class="placed" data-placed="1"></div>
            </div>

            <div class="dropzone" data-zone="2" style="top:190px; right:230px;">
                <div class="num">2</div>
                <div class="placed" data-placed="2"></div>
            </div>

            <div class="dropzone" data-zone="3" style="top:120px; left:60px;">
                <div class="num">3</div>
                <div class="placed" data-placed="3"></div>
            </div>

            <div class="dropzone" data-zone="4" style="top:280px; left:260px;">
                <div class="num">4</div>
                <div class="placed" data-placed="4"></div>
            </div>

            <div class="dropzone" data-zone="5" style="top:340px; right:60px;">
                <div class="num">5</div>
                <div class="placed" data-placed="5"></div>
            </div>

            <div class="dropzone" data-zone="6" style="top:450px; right:290px;">
                <div class="num">6</div>
                <div class="placed" data-placed="6"></div>
            </div>

            <div class="dropzone" data-zone="7" style="top:520px; left:70px;">
                <div class="num">7</div>
                <div class="placed" data-placed="7"></div>
            </div>

            <div class="dropzone" data-zone="8" style="top:430px; left:380px;">
                <div class="num">8</div>
                <div class="placed" data-placed="8"></div>
            </div>

            <div class="dropzone" data-zone="9" style="top:520px; right:70px;">
                <div class="num">9</div>
                <div class="placed" data-placed="9"></div>
            </div>

            <div class="dropzone" data-zone="10" style="top:540px; left:330px;">
                <div class="num">10</div>
                <div class="placed" data-placed="10"></div>
            </div>

        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø³ÙÙ„ÙŠ Ø§Ù„Ø«Ø§Ø¨Øª -->
    <div class="tray">
        <div class="trayInner">
            <div class="trayTop">
                <div class="trayTitle">Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø³ÙÙ„ÙŠ â€“ Ø§Ø³Ø­Ø¨ Ø§Ù„ØµÙˆØ±</div>
                <div class="trayHint">Ø§Ø³Ø­Ø¨ ÙˆØ§Ø³Ù‚Ø· âœ… ÙˆÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙ…Ø±ÙŠØ± ÙŠÙ…ÙŠÙ† ÙˆÙŠØ³Ø§Ø± Ù„Ø±Ø¤ÙŠØ© ÙƒÙ„ Ø§Ù„ØµÙˆØ±</div>
            </div>
            <div class="items" id="items"></div>
        </div>
    </div>

    <script>
        /* ===== ØµÙˆØ± SVG Ø¨Ø³ÙŠØ·Ø© Ø¨Ø¯ÙˆÙ† Ù…Ù„ÙØ§Øª Ø®Ø§Ø±Ø¬ÙŠØ© ===== */
        function svgIcon(emoji) {
            const svg = `
      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96">
        <rect width="96" height="96" rx="22" fill="rgba(255,255,255,0.06)"/>
        <text x="50%" y="56%" dominant-baseline="middle" text-anchor="middle"
          font-size="46">${emoji}</text>
      </svg>`;
            return "data:image/svg+xml;charset=utf-8," + encodeURIComponent(svg);
        }

        /* ===== Ø§Ù„Ø§Ø­Ø¯Ø§Ø« (ØªÙ‚Ø¯Ø± ØªØ²ÙŠØ¯ Ø¹Ø¯Ø¯Ù‡Ø§ ÙˆØªØ²ÙŠØ¯ Ù…Ø¹Ù‡Ø§ dropzones) ===== */
        const events = [
            { id: "e1", title: "Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ø­Ø±Ø§Ù…", sub: "Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø±Ø­Ù„Ø©", img: svgIcon("ğŸ•‹"), correctZone: 1 },
            { id: "e2", title: "Ø§Ù„Ø¨Ø±Ø§Ù‚", sub: "ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø§Ø³Ø±Ø§Ø¡", img: svgIcon("ğŸ"), correctZone: 2 },
            { id: "e3", title: "Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ø§Ù‚ØµÙ‰", sub: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø§Ø³Ø±Ø§Ø¡", img: svgIcon("ğŸ•Œ"), correctZone: 3 },
            { id: "e4", title: "Ø§Ù„ØµÙ„Ø§Ø© Ø¨Ø§Ù„Ø§Ù†Ø¨ÙŠØ§Ø¡", sub: "ÙÙŠ Ø§Ù„Ø§Ù‚ØµÙ‰", img: svgIcon("ğŸ¤²"), correctZone: 4 },
            { id: "e5", title: "Ø§Ù„Ù…Ø¹Ø±Ø§Ø¬", sub: "Ø§Ù„ØµØ¹ÙˆØ¯", img: svgIcon("â¬†ï¸"), correctZone: 5 },
            { id: "e6", title: "Ù„Ù‚Ø§Ø¡ Ø§Ù†Ø¨ÙŠØ§Ø¡", sub: "ÙÙŠ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª", img: svgIcon("âœ¨"), correctZone: 6 },
            { id: "e7", title: "Ø³Ø¯Ø±Ø© Ø§Ù„Ù…Ù†ØªÙ‡Ù‰", sub: "Ù…Ø­Ø·Ø© Ø¹Ø¸ÙŠÙ…Ø©", img: svgIcon("ğŸŒ¿"), correctZone: 7 },
            { id: "e8", title: "ÙØ±Ø¶ Ø§Ù„ØµÙ„Ø§Ø©", sub: "Ù‡Ø¯ÙŠØ©", img: svgIcon("ğŸ•Œ"), correctZone: 8 },
            { id: "e9", title: "Ø§Ù„Ø¹ÙˆØ¯Ø©", sub: "ÙÙŠ Ù„ÙŠÙ„Ø©", img: svgIcon("ğŸŒ™"), correctZone: 9 },
            { id: "e10", title: "Ø§Ù„ØªØµØ¯ÙŠÙ‚", sub: "Ø±Ø¯ÙˆØ¯ Ø§Ù„ÙØ¹Ù„", img: svgIcon("ğŸ§ "), correctZone: 10 },
        ];

        function shuffle(arr) {
            const a = arr.slice();
            for (let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }

        function getEventById(id) { return events.find(x => x.id === id); }

        /*
         placements:
          - zoneToEvent: { "1": "e3", ... }
          - eventToZone: { "e3": "1", ... }
          - availableIds: Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø­Ø§Ù„ÙŠØ§ Ø¨Ø§Ù„Ù…Ø®Ø²Ù†
        */
        const zoneToEvent = {};
        const eventToZone = {};
        let availableIds = [];

        const itemsBox = document.getElementById("items");
        const resultText = document.getElementById("resultText");
        const zones = Array.from(document.querySelectorAll(".dropzone"));

        function renderItems() {
            itemsBox.innerHTML = "";
            const ids = shuffle(availableIds);

            ids.forEach(id => {
                const ev = getEventById(id);
                const div = document.createElement("div");
                div.className = "item";
                div.draggable = true;
                div.dataset.id = ev.id;

                div.innerHTML = `
          <img src="${ev.img}" alt="${ev.title}">
          <div>
            <div class="t">${ev.title}</div>
            <div class="s">${ev.sub}</div>
          </div>
        `;

                div.addEventListener("dragstart", (e) => {
                    e.dataTransfer.setData("text/plain", ev.id);
                    e.dataTransfer.effectAllowed = "move";
                });

                itemsBox.appendChild(div);
            });
        }

        function setPlaced(zoneNum, evId) {
            const ev = getEventById(evId);
            const placedBox = document.querySelector(`.placed[data-placed="${zoneNum}"]`);
            if (placedBox) {
                placedBox.innerHTML = `<img src="${ev.img}" alt="${ev.title}">`;
            }
        }

        function clearPlaced(zoneNum) {
            const placedBox = document.querySelector(`.placed[data-placed="${zoneNum}"]`);
            if (placedBox) placedBox.innerHTML = "";
        }

        /* ===== ÙˆØ¶Ø¹ ØµÙˆØ±Ø© Ø¹Ù„Ù‰ Ø±Ù‚Ù… ===== */
        function placeEvent(zoneNum, eventId) {
            // Ø§Ø°Ø§ Ø§Ù„ØµÙˆØ±Ø© ÙƒØ§Ù†Øª Ù…ÙˆØ¶ÙˆØ¹Ø© Ø¨Ø±Ù‚Ù… Ø³Ø§Ø¨Ù‚ -> Ø§Ø­Ø°ÙÙ‡Ø§ Ù…Ù† Ù‡Ù†Ø§Ùƒ
            if (eventToZone[eventId]) {
                const oldZone = eventToZone[eventId];
                delete zoneToEvent[oldZone];
                delete eventToZone[eventId];
                clearPlaced(oldZone);
            }

            // Ø§Ø°Ø§ Ø§Ù„Ø²ÙˆÙ† ÙÙŠÙ‡ ØµÙˆØ±Ø© Ù‚Ø¯ÙŠÙ…Ø© -> Ø±Ø¬Ø¹ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù„Ù„Ù…Ø®Ø²Ù†
            if (zoneToEvent[zoneNum]) {
                const oldEvent = zoneToEvent[zoneNum];
                delete eventToZone[oldEvent];
                // Ø§Ø±Ø¬Ø¹Ù‡Ø§ Ù„Ù„Ù…Ø®Ø²Ù†
                availableIds.push(oldEvent);
            }

            // Ø¶Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø§Ù„Ø²ÙˆÙ†
            zoneToEvent[zoneNum] = eventId;
            eventToZone[eventId] = zoneNum;
            setPlaced(zoneNum, eventId);

            // Ø§Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ù…Ø®Ø²Ù† (ØªØ®ØªÙÙŠ)
            availableIds = availableIds.filter(x => x !== eventId);

            // Ø§Ø²Ø§Ù„Ø© Ø¹Ù„Ø§Ù…Ø§Øª ØµØ­/Ø®Ø·Ø£ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            zones.forEach(z => z.classList.remove("good", "bad"));
            updateResultPreview();
            renderItems();
        }

        /* ===== Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø§Ø³Ù‚Ø§Ø· ===== */
        function setupZones() {
            zones.forEach(z => {
                z.addEventListener("dragover", (e) => {
                    e.preventDefault();
                    z.classList.add("over");
                });
                z.addEventListener("dragleave", () => {
                    z.classList.remove("over");
                });
                z.addEventListener("drop", (e) => {
                    e.preventDefault();
                    z.classList.remove("over");

                    const zoneNum = z.dataset.zone;
                    const eventId = e.dataTransfer.getData("text/plain");
                    if (!eventId) return;

                    placeEvent(zoneNum, eventId);
                });
            });
        }

        function updateResultPreview() {
            const total = events.length;
            let correct = 0;

            events.forEach(ev => {
                const z = eventToZone[ev.id];
                if (z && Number(z) === ev.correctZone) correct++;
            });

            resultText.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: " + correct + " / " + total;
        }

        function checkAnswers() {
            zones.forEach(z => z.classList.remove("good", "bad"));

            let correct = 0;
            const total = events.length;

            zones.forEach(z => {
                const zoneNum = Number(z.dataset.zone);
                const evId = zoneToEvent[String(zoneNum)];
                if (!evId) {
                    z.classList.add("bad");
                    return;
                }
                const ev = getEventById(evId);
                if (ev && ev.correctZone === zoneNum) {
                    z.classList.add("good");
                    correct++;
                } else {
                    z.classList.add("bad");
                }
            });

            resultText.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: " + correct + " / " + total;
        }

        function resetAll() {
            // Ø±Ø¬Ø¹ ÙƒÙ„ Ø§Ù„ØµÙˆØ± Ù„Ù„Ù…Ø®Ø²Ù†
            for (const k in zoneToEvent) delete zoneToEvent[k];
            for (const k in eventToZone) delete eventToZone[k];

            document.querySelectorAll(".placed").forEach(p => p.innerHTML = "");
            zones.forEach(z => z.classList.remove("good", "bad", "over"));

            availableIds = events.map(e => e.id);
            renderItems();
            resultText.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0 / " + events.length;
        }

        document.getElementById("checkBtn").addEventListener("click", checkAnswers);
        document.getElementById("resetBtn").addEventListener("click", resetAll);

        /* ØªØ´ØºÙŠÙ„ */
        availableIds = events.map(e => e.id);
        renderItems();
        setupZones();
        resultText.textContent = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0 / " + events.length;
    </script>

</body>
</html>
